#include <string.h>
#include <stdlib.h>
#include <stdio.h>
#include <stdarg.h>
#include <ctype.h>
#include <stdbool.h>
typedef struct c_string{size_t capa;char *data;} c_string;bool init_cstr(c_string *s){s->capa = 1;s->data = (char *)malloc(sizeof(char));if (s->data == NULL){return true;}s->data[0] = '\0';return false;}c_string make_cstr(const char *c){c_string s;s.capa = strlen(c) + 1;s.data = (char *)malloc(s.capa * sizeof(char));if (s.data == NULL){return s;}strcpy(s.data, c);return s;}size_t cstrlen(const c_string *s){return strlen(s->data);}bool cstrcat(c_string *a, const c_string *b){size_t sz1 = cstrlen(a), sz2 = cstrlen(b);size_t fewest_capa = sz1 + sz2 + 1ull;if (a->capa < fewest_capa){char *new_data = (char *)realloc(a->data, sizeof(char) * fewest_capa);if (new_data == NULL){return 1;}a->capa = fewest_capa;a->data = new_data;}strcat(a->data, b->data);return 0;}c_string init_cstrcpy(c_string *a, const c_string *b){if (a != b){a->capa = cstrlen(b) + 1ull;a->data = (char *)malloc(a->capa * sizeof(char));strcpy(a->data, b->data);}return *a;}c_string cstrcpy(c_string *a, const c_string *b){if (a != b){free(a->data);a->capa = cstrlen(b) + 1ull;a->data = (char *)malloc(a->capa * sizeof(char));strcpy(a->data, b->data);}return *a;}int cstrcmp(const c_string *a, const c_string *b){return strcmp(a->data, b->data);}size_t cstrcspn(const c_string *a, const c_string *b){return strcspn(a->data, b->data);}char *cstrstr(const c_string *a, const c_string *b){return strstr(a->data, b->data);}c_string cstr_substr(const c_string *s, size_t start, size_t length){c_string res;res.capa = length + 1;res.data = (char *)malloc( res.capa * sizeof(char) );for (size_t i = 0; i < length; ++i){res.data[i] = s->data[i + start];}res.data[length] = '\0';return res;}int cstr_print(const c_string *s){return printf("%s", s->data);}int cstr_fprint(FILE *const fl, const c_string *s){return fprintf(fl, "%s", s->data);}